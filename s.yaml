
edition: 1.0.0
name: studyroom-monorepo
access: "true"

vars: # 全局变量
  region: cn-hangzhou
  service:
    name: s-studyroom
    description: 'StudyRoom'

services:
  StudyRoom: # 业务名称/模块名称
    component:  fc
    actions: # 自定义执行逻辑
      pre-deploy: # 在deploy之前运行
        - run: s build --use-docker  # build dependencies jwt/mysql/redis into package
          path: ./ # suspend
#      post-deploy: # 在deploy之后运行
#        - run: s versions   # 要运行的命令行
#          path: ./ # 命令行运行的路径
    props: #  组件的属性值
      region: ${vars.region}
      service: ${vars.service}
      function:
        name: event-nodejs12
        description: 'UserRole APIs'
        runtime: nodejs12
        codeUri: ./ #nope. 我还没有写后端
        # ossBucket:
        # ossKey:  # conflict with codeUri
        handler: index.handler
        memorySize: 128
        timeout: 60
